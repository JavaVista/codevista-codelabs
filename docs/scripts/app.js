"use strict";!function(e,t){var r=function(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}),function(){if("registerElement"in t&&"import"in t.createElement("link")&&"content"in t.createElement("template"))t.dispatchEvent(new Event("WebComponentsReady"));else{var e=t.createElement("script");e.async=!0,e.src="/codevista-codelabs/bower_components/webcomponentsjs/webcomponents-lite.min.js",t.head.appendChild(e)}}();var r=function(e){t.body.classList.toggle("dark-mode","dark"===e)},a=function(){var e=t.body.classList.contains("dark-mode")?"light":"dark";r(e),localStorage.setItem("theme",e)},n=t.querySelector("#dark-mode-toggle");n&&n.addEventListener("click",a),t.addEventListener("click",function(e){e.target&&e.target.closest&&e.target.closest("#dark-mode-toggle")&&a()});var s=e.matchMedia("(prefers-color-scheme: dark)").matches,o=localStorage.getItem("theme");r(o||(s?"dark":"light"))};t.addEventListener("AppReady",function(){t.body.classList.remove("loading")}),t.addEventListener("WebComponentsReady",function(){var r=function(){var r=t.querySelector("#app");function a(){var e=t.querySelector(".js-lucky-link");if(e){var a=r.$.cards.querySelectorAll(".codelab-card");if(a.length<2)return e.href="#",void(e.parentNode.style.display="none");var n=Math.floor(Math.random()*a.length);e.href=a[n].href,e.parentNode.style.display=null}}r.categoryStartCards={},r.kioskTags=[],r.addEventListener("dom-change",function(e){if(!r._readied){var a=t.querySelectorAll(".codelab-card");Array.prototype.forEach.call(a,function(e,t){var a=e.getAttribute("data-category");void 0===r.categoryStartCards[a]&&(r.categoryStartCards[a]=e)})}}),r.codelabUrl=function(e,t){var r="index="+encodeURIComponent("../.."+e.url);return e.ga&&(r+="&viewga="+e.ga),t.url+"?"+r},r.sortBy=function(e,t){var r=t.item.textContent.trim().toLowerCase();this.$.cards.sort(r)},r.filterBy=function(e,t){t.hasOwnProperty("selected")?this.$.cards.filterByCategory(t.selected):(t.kioskTags=r.kioskTags,this.$.cards.filter(t))},r.onCategoryActivate=function(t,r){var n=t.target.selectedItem;n&&n.getAttribute("filter")===r.selected&&(r.selected=null),r.selected||this.async(function(){t.target.selected=null}),this.filterBy(t,{selected:r.selected});var s=new URLSearchParams(e.location.search.slice(1));s.delete("cat"),r.selected&&s.set("cat",r.selected);var o=e.location.pathname,i="?"+s;"?"!==i&&(o+=i),e.history.pushState({},"",o),a()};var n=t.querySelector("#chips");return n&&n.addEventListener("click",function(e){if(e.preventDefault(),e.stopPropagation(),e.target.getAttribute("filter")){e.target.classList.toggle("selected");for(var t=[],s=n.querySelectorAll(".js-chips__item.selected"),o=0;o<s.length;o++){var i=s[o].getAttribute("filter");i&&t.push(i)}r.filterBy(null,{tags:t}),a()}}),r.reconstructFromURL=function(){for(var t=new URLSearchParams(e.location.search.slice(1)),s=t.get("cat"),o=t.getAll("tags"),i=t.get("filter"),c=o.length;c--;)"kiosk"!==o[c]&&"kiosk-"!==o[c].substr(0,6)||(r.kioskTags.push(o[c]),o.splice(c,1));this.$.categorylist&&(this.$.categorylist.selected=s),this.$.sidelist&&(this.$.sidelist.selected=s),o&&function(e){if(n){e=Array.isArray(e)?e:[e];for(var t=n.querySelectorAll(".js-chips__item"),r=0;r<t.length;r++){var a=t[r];-1!=e.indexOf(a.getAttribute("filter"))?a.classList.add("selected"):a.classList.remove("selected")}}}(o),this.filterBy(null,{cat:s,tags:o}),i&&(r.searchVal=i,r.onSearchKeyDown()),a()},r.navigate=function(t){t.preventDefault();var r=function(t){e.location.href=t},a=t.currentTarget;a.hasAttribute("data-wait-for-ripple")?a.addEventListener("transitionend",r.bind(a,a.href)):r(a.href)},r.clearSearch=function(e,t){this.searchVal=null,this.$.cards.filterByText(null)},r.onSearchKeyDown=function(e,t){this.debounce("search",function(){this.$.cards.filterByText(r.searchVal)},250)},r.toggleDarkMode=function(e,r){var a=t.body.classList.contains("dark-mode")?"light":"dark";t.body.classList.toggle("dark-mode","dark"===a),localStorage.setItem("theme",a)},r}();e.addEventListener("popstate",function(){r.reconstructFromURL()}),r._setupDebouncers&&r._setupDebouncers(),r.reconstructFromURL(),t.dispatchEvent(new Event("AppReady"))}),"complete"===t.readyState||"loaded"===t.readyState||"interactive"===t.readyState?r():t.addEventListener("DOMContentLoaded",r)}(window,document);